<script src="/node_modules/d3/d3.js"></script>
<script src="/public/lib/d3/d3.js"></script>
<script src="/public/lib/d3-cloud/d3.layout.cloud.js"></script>
<script src="/public/lib/d3-cloud/d3.layout.cloud.js"></script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>

<script>
    google.load("visualization", "1.1", {packages:[ 'bar', 'corechart' ] });
</script>

<style>
    .NameHighlights {
        position:relative;
    }
    .NameHighlights div {
        display: none;
    }
    .NameHighlightsHover {
        position:relative;
    }
    .NameHighlightsHover div {
        display:inline;
        position:absolute;
        /*width: 30em;*/
        /*top:1.3em;*/
        /**top:20px;*/
        /*left:100px;*/
        z-index:1000;
        background: rgba(224, 224, 224, 0.5);
        padding:5px 15px 5px 10px;
        border-radius: 4px;
        font-size: 12px;
        text-align: center;
        background-opacity: 0.4;
    }
    #TagsBarChart
    {
        width:100%;
        height:100%;
        margin-top:3%;
    }
    #WordsBarChart
    {
        width:100%;
        height:100%;
        margin-top:3%;
    }
    #indexContent{
        margin-left: 0;
        padding-left: 0;
    }
    .tip{
        display: block;
        background: #333;
        background: rgba(0,0,0,.8);
        border-radius: 5px;
        bottom: 26px;
        color: #fff;
        content: attr(title);
        left: 20%;
        padding: 5px 15px;
        position: relative;
        z-index: 98;
        text-align:left;
    }

</style>

<div id="spinner" style="text-align: center">
    <img src="/public/img/ajax-loader.gif" alt="Loading" class="spinnerImage"/>
    <p>Loading data...</p>
</div>

<div id="container" class="hidden">
    <div class="form-group form-option">
        <label class="fix-label">Select data from:</label><br>

        <div class="optType NameHighlights">

            <label style="margin-right: 20px; font-weight: normal">
                <input class="radioData" id="radioData" name="typeVoc" value="radioData" type="radio" checked>
                From data
            </label>

            <div><i class="fa fa-info-circle" style="margin-right: 5px"></i>
                I dati sono estratti dal campo <i>Token</i> presente nei dati</div>
        </div>

        <div class="optType NameHighlights">
            <label style="margin-right: 20px; font-weight: normal">
                <input class="radioUser" id="radioUser" name="typeVoc" value="radioUser" type="radio">
                From user vocabulary
            </label>
            <div><i class="fa fa-info-circle" style="margin-right: 5px"></i>
                I dati sono calcolati sulla base del dizionario inserito dall'utente</div>
        </div>
    </div>

    <svg id="Tags" ></svg>
    <div id="TagsBarChart"></div>
    <div id="WordsBarChart" style=""></div>
</div>

<script src="/public/js/Stat-WordCloud.js"></script>

<script>
    var radio = document.querySelectorAll('.NameHighlights');
    for (var i = radio.length; i--;) {
        (function () {
            var t;
            radio[i].onmouseover = function () {
                hideAll();
                clearTimeout(t);
                this.className = 'NameHighlightsHover';
            };
            radio[i].onmouseout = function () {
                var self = this;
                t = setTimeout(function () {
                    self.className = 'NameHighlights';
                }, 300);
            };
        })();
    }

    function hideAll() {
        for (var i = radio.length; i--;) {
            radio[i].className = 'NameHighlights';
        }
    };

    $(document).ready(function(){
        var statWordCloudCtrl = new StatWordCloudCtrl();
    });

</script>