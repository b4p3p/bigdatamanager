<link href="/public/css/normalization.less" rel="stylesheet/less">
<script src="/node_modules/less/dist/less.js"></script>

<!-- bootstrap file input -->
<link href="/bower_components/bootstrap-fileinput/css/fileinput.css" rel="stylesheet" />
<script src="/bower_components/bootstrap-fileinput/js/fileinput.js"></script>
<script src="/bower_components/bootstrap-fileinput/js/fileinput_locale_it.js"></script>

<div id="container">

   <div class="row panel panel-default" style="padding: 20px 0" >

      <div class="riga" style="width:100%;">

         <div class="riga" style="font-size:90%; margin-left: 10px">

            <div style="display: inline-block; vertical-align:top"><i class="fa fa-info-circle" style="margin-right: 5px"></i></div>
            <div style="display: inline-block">
               Inserire un dataset per normalizzare i dati all'interno delle regioni.<br>
               La normalizzazione consiste nel calcolare la cardinalità dei dati in una data regione;
               il risultato viene utilizzato per pesare l'indice dei dati medi per quella regione.<br>
               Un buon dataset deve coprire allo stesso modo tutte le regioni ed essere il più generico possibile.
            </div>
         </div>
      </div>
   </div>

   <form method="post"
         enctype="multipart/form-data"
         id="upload_form"
         action="/database/normalization">

      <div class="row">
         <div>
            <label for="cmbType">Schema type </label>
         </div>
         <select class="selectpicker" name="type" id="cmbType" >
            <option value="json-crowdpulse">CrowdPulse Schema</option>
            <option value="json">JSON</option>
            <option value="csv">CSV</option>
         </select>
      </div>

      <div class="row">
         <label for="upload_button">Insert dataset</label>
         <input type="file" class="file"
                name="normalization"
                id="upload_button"
                data-show-upload="false"
                data-show-caption="true"
                data-show-preview="false">
      </div>

   </form>

   <div class="row" style="text-align: right">

      <button class="btn btn-danger button"
              id="upload_btn" style="width: 112px;"
              ng-click="upload()">
         Upload
      </button>

   </div>

   <!--active-->
   <div class="row">
      <div class="progress">
         <div class="progress-bar progress-bar-striped" id="progress"
              role="progressbar"
              aria-valuemin="0"
              aria-valuemax="100"
              aria-valuenow="45" style="width: 0%">
            <!--<span class="sr-only" style="color: black">45% Complete</span>-->
         </div>
         {{percentageUpload}} %
      </div>
   </div>


   <div class="row">
      <div>
         <label for="cmbType">Index type </label>
      </div>
      <select class="selectpicker" name="type" id="cmbTypeNorm">
         <option value="0">Simple: baseNorm </option>
         <option value="1">Logarithmic: Ln(baseNorm + e)</option>
      </select>
   </div>

   <div id="map-container">
      <div id="map"></div>
      <div id="wait" ng-if="showLoading == true">
         <div id="fountainTextG"><div id="fountainTextG_1" class="fountainTextG">L</div><div id="fountainTextG_2" class="fountainTextG">o</div><div id="fountainTextG_3" class="fountainTextG">a</div><div id="fountainTextG_4" class="fountainTextG">d</div><div id="fountainTextG_5" class="fountainTextG">i</div><div id="fountainTextG_6" class="fountainTextG">n</div><div id="fountainTextG_7" class="fountainTextG">g</div><div id="fountainTextG_8" class="fountainTextG">.</div><div id="fountainTextG_9" class="fountainTextG">.</div><div id="fountainTextG_10" class="fountainTextG">.</div></div>
      </div>
   </div>

   <div>
      <label>Count data: </label>
      <div style="display: inline-block">{{count}}</div>
   </div>

</div>

<script>

//    $(document).ready(function(){
//       $("#normalizationTable").bootstrapTable({});
//    });

</script>