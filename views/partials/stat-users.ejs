
<style>
    .form-option {
        margin-top: 15px;
        margin-right: 15px;
    }

    .div-inline {
        display: inline-block;
    }

    #timeLineContainer {
        position: relative;
        top: 0;
        bottom:0; !important;
        width:100%;
        padding-left: 0;
        margin-top: 0;
    }

    #line{
        border-bottom: 2px #ccc solid;
        overflow:visible;
        height:9px;
        margin: 50px 0 50px 0;
    }
    #labelID {
        text-anchor: start;
        font-family: Arial;
        font-size: 14px;
        font-weight: bold;
        stroke: none;
        stroke-width: 0px;
        color: black
    }
</style>

<div id="container" style="margin-top: 0px">

    <div class="div-inline">
        <div id="formUsers" class="form-group form-option">
            <select class="selectpicker" id="cmbUsers"
                    data-live-search="true" title="Select users"
                    multiple
                    disabled>
            </select>
        </div>
    </div>
    <script>
        $('.selectpicker').selectpicker();
    </script>
    <div class="div-inline">
        <button type="button" class="btn btn-success"
                id="statButton"
                style="float: right; margin-top: 15px; margin-left: 10px; margin-top: 0"
                onclick="UsersCtrl.clickStat()"
                disabled>
            <span id="img-filter" class="fa fa-spinner fa-spin" aria-hidden="true"></span> Show statistics
        </button>
        <button type="button" class="btn btn-danger"
                id="restoreButton"
                onclick="UsersCtrl.clickRestore()"
                disabled>
            <span id="img-restore" class="glyphicon glyphicon-remove" aria-hidden="true"></span> Restore
        </button>
    </div>

    <form id="formType" class="form-inline hidden" role="form" style="margin-top: 20px; margin-bottom: 20px">
        <div class="form-group">
            <label class="fix-label">Visualization mode</label><br>

            <div class="radio">
                <label><input id="radioDays" type="radio" name="optmode" value="days" checked=""
                              onclick="UsersCtrl.handleModeClick(this);"> Days</label></div><br>
            <div class="radio">
                <label>
                    <input id="radioWeeks" type="radio" name="optmode" value="weeks"
                           onclick="UsersCtrl.handleModeClick(this);"> Weeks</label></div><br>
            <div class="radio">
                <label><input id="radioMonths" type="radio" name="optmode" value="months"
                              onclick="UsersCtrl.handleModeClick(this);"> Months</label></div>
        </div>
    </form>
    <div id="timeLineContainer" class="hidden">
        <div id="timeLine"></div>
    </div>

    <div id="divBar" class="form-group hidden">
        <div id="line"></div>
        <label class="fix-label" style="margin-left: 3px">Sort</label><br>

        <div class="btn-group" role="group" aria-label="...">
            <button id="AZbutton" type="button" class="btn btn-default active"
                    onclick="UsersCtrl.AZbuttonClick();" disabled>
                <span id="img-filter" class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span> A - Z
            </button>

            <button id="ZAbutton" type="button" class="btn btn-default"
                    onclick="UsersCtrl.ZAbuttonClick();" disabled>
                <span id="img-filter" class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span> Z - A
            </button>
        </div>
    </div>
    <div id="barChartContainer" class="hidden">
        <div id="barChart"></div>
    </div>

    <div id="divMap" class="form-group hidden">
        <div id="line"></div>
        <label id="labelID" class="fix-label" style="margin-left: 3px">Map user data</label><br>
        <div id="mapContainer" class="hidden">
            <div id="mapChart"></div>
        </div>
    </div>

    <div id="divCloud" class="form-group hidden">

        <div id="line"></div>

        <label id="labelID" class="fix-label" style="margin-left: 3px">Word cloud token users</label><br>

        <svg id="cloudChart" height="500" width="500"></svg>

        <div id="cloudContainer" class="hidden">

        </div>

    </div>
</div>

<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script>
    google.load('visualization', '1.1', {packages: ['corechart', 'line', 'map']});
</script>

<script src="/node_modules/d3/d3.js"></script>
<script src="/public/lib/d3/d3.js"></script>
<script src="/public/lib/d3-cloud/d3.layout.cloud.js"></script>
<script src="/public/lib/d3-cloud/d3.layout.cloud.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
<script src="/public/js/ColorUtil.js"></script>
<script src="/public/js/DOMUtil.js"></script>
<script src="/public/js/Stat-Users.js"></script>

<script>

    $(document).ready(function ()
    {
        UsersCtrl.getUsers();
    });

    $('.selectpicker').on('change', function(){
        UsersCtrl.$statButton.prop("disabled", false);
        var selectedUsers = DomUtil.getSelectedCombo(UsersCtrl.$cmbUsers);
        if( selectedUsers.length == 0 )
        {
            UsersCtrl.$statButton.prop("disabled", true);
            UsersCtrl.$restoreButton.prop("disabled", true);
        }
        else
            UsersCtrl.$restoreButton.prop("disabled", false);
    });
</script>